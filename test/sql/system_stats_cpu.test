# name: test/sql/system_stats_cpu.test
# description: test sys_cpu_info function
# group: [sql]

# Require statement will ensure this test is run with this extension loaded
require system_stats

# Test sys_cpu_info function
query I
SELECT COUNT(*) FROM sys_cpu_info();
----
1

# Test that byte_order is always "Little Endian"
query I
SELECT cpu_byte_order FROM sys_cpu_info();
----
Little Endian

# Test that logical_processor is greater than 0
query I
SELECT COUNT(*) = COUNT(*) FILTER (WHERE logical_processor > 0) FROM sys_cpu_info();
----
true

# Test that physical_processor is greater than 0
query I
SELECT COUNT(*) = COUNT(*) FILTER (WHERE physical_processor > 0) FROM sys_cpu_info();
----
true
